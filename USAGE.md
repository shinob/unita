
# 📘 ユーザーガイド：unita（ユニタ）

**unita（ユニタ）** は、複数の組織に対応した出欠管理アプリです。  
ユーザーは「管理者」「運営者」「参加者」などのロールを持ち、それぞれ操作できる機能が異なります。

## 🧑‍💼 ロール別の使い方

---

## 🛠 システム管理者（system_admin）

### ✅ 権限・機能
- 全組織・全ユーザー・全会議へのアクセス
- 管理ダッシュボードから以下の操作が可能：

| 機能 | 内容 |
|------|------|
| ダッシュボード表示 | `/admin/dashboard` にアクセス |
| 組織作成・削除 | 組織名入力 → 作成／削除は関連ユーザー・会議も含めて削除 |
| ユーザー検索 | 名前・メールアドレスによる部分一致検索が可能 |

---

## 🏢 組織管理者（org_admin）

### ✅ 権限・機能
- 自組織の全ユーザーと予定を管理できます

| 機能 | 内容 |
|------|------|
| ユーザー管理 | `/org/users` にて一覧表示・ロール変更・追加・削除可能 |
| 出欠代理入力 | `/org/meetings/:id/respond_admin` にて出欠登録を代行可能 |
| 組織名編集 | `/org/edit` にて組織名を変更可能 |
| 会議閲覧・操作 | `/org/meetings/all` で全会議の検索・確認可能 |

---

## 📅 運営者（organizer）

### ✅ 権限・機能
- 会議を作成・編集・無効化できます

| 機能 | 内容 |
|------|------|
| 新しい会議作成 | `/org/meetings/new` |
| 会議の編集 | `/org/meetings/:id/edit` |
| 会議の無効化 | `/org/meetings/:id/disable` |
| 会議参加者の閲覧 | 各会議ページで参加者リスト・ステータス確認 |

---

## 🙋 参加者（user）

### ✅ 権限・機能
- 自分の出欠を登録し、プロフィールを編集できます

| 機能 | 内容 |
|------|------|
| 出欠登録 | `/org/meetings/:id` にて「出席・欠席・未定」＋コメント入力 |
| 出欠締切 | `deadline_at` を過ぎると登録不可（管理者を除く） |
| プロフィール編集 | `/profile` から氏名・連絡先などを更新可能 |

---

## 🔐 ログインと組織選択

- ログイン後、自分の所属組織が **1つ** → 自動選択
- 所属組織が **複数** → `/select_organization` にて選択

---

## 📆 iCal連携

- iCal形式での予定URLを取得可能（組織別）
- 形式： `/org/:organization_id/:token.ics`
- Googleカレンダーなどに追加可能

---

## 📎 その他ヒント

- ロールの変更は **org_admin** のみが可能です。
- 出欠ステータスは色分けで表示されます：
  - 出席：緑
  - 欠席：赤
  - 未定：グレー

---

## 📝 補足

- ロールは組織ごとに設定されており、同じユーザーでも組織ごとに異なる役割を持つことが可能です。
- 組織とロールの関係は `memberships` テーブルで管理されています。

---
