<h1 class="text-2xl font-bold mb-6 text-center">ユーザー編集</h1>

<div class="max-w-xl mx-auto bg-white p-6 rounded-lg shadow-md">
  <form action="<%= request.script_name %>/org/users/<%= @user.id %>/update" method="post" class="space-y-4">
    
    <div>
      <label class="block text-sm font-medium text-gray-700">名前</label>
      <input type="text" name="name" value="<%= @user.name %>" required
             class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-200 focus:outline-none">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">メールアドレス</label>
      <input type="email" name="email" value="<%= @user.email %>" required
             class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-200 focus:outline-none">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">パスワード（変更する場合のみ入力）</label>
      <input type="password" name="password" placeholder="新しいパスワード"
             class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-200 focus:outline-none">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">ロール</label>
      <select name="role" required
              class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-200 focus:outline-none">
        <option value="user" <%= 'selected' if @membership.role == 'user' %>>参加者</option>
        <option value="organizer" <%= 'selected' if @membership.role == 'organizer' %>>運営者</option>
        <option value="org_admin" <%= 'selected' if @membership.role == 'org_admin' %>>管理者</option>
      </select>
    </div>

    <div class="flex justify-between items-center mt-6">
      <button type="submit"
              class="bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700 transition">
        更新
      </button>
      <a href="<%= request.script_name %>/org/users"
         class="text-gray-600 hover:underline text-sm">← ユーザー一覧に戻る</a>
    </div>
  </form>
</div>